<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>纯CSS图标方案 | Elone Hoo</title>
    <meta name="description" content="Hi, I'm Elone Hoo.">
    <link rel="stylesheet" href="/assets/style.ee8626c2.css">
    <link rel="modulepreload" href="/assets/app.a4c755db.js">
    <link rel="modulepreload" href="/assets/posts_icons-in-pure-css.md.06ad55f5.lean.js">
    
    <link rel="icon" type="image/x-icon" href="/logo.svg">
  <meta name="twitter:title" content="纯CSS图标方案 | Elone Hoo">
  <meta property="og:title" content="纯CSS图标方案 | Elone Hoo">
  </head>
  <body>
    <div id="app"><div class="antialiased"><div class="max-w-3xl mx-auto px-4 sm:px-6 xl:max-w-5xl xl:px-0"><nav class="flex justify-between items-center py-10 font-bold"><a class="text-xl" href="/" aria-label="The Elone Hoo Blog"><img class="inline-block mr-2" style="width:36px;height:31px;" alt="logo" src="/assets/logo.7d3de591.svg"><span class="hidden md:inline">Elone Hoo</span></a><div class="text-sm text-gray-500 leading-5"><a class="hover:text-gray-700" href="/" rel="noopener">me </a><span class="mr-2 ml-2">·</span><a class="hover:text-gray-700" href="/blog.html">blog</a><span class="mr-2 ml-2">·</span><a class="hover:text-gray-700" href="/projects.html">projects </a><span class="mr-2 ml-2">·</span><a class="hover:text-gray-700" href="https://github.com/elonehoo" target="_blank" rel="noopener">GitHub →</a></div></nav></div><main class="max-w-3xl mx-auto px-4 sm:px-6 xl:max-w-5xl xl:px-0"><article class="xl:divide-y xl:divide-gray-200"><header class="pt-6 xl:pb-10 space-y-1 text-center"><dl><dt class="sr-only">Published on</dt><dd class="text-base leading-6 font-medium text-gray-500"><time datetime="2022-08-14T12:00:00.000Z">August 14, 2022</time></dd></dl><h1 class="text-3xl leading-9 font-extrabold text-gray-900 tracking-tight sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">纯CSS图标方案</h1></header><div class="divide-y xl:divide-y-0 divide-gray-200 xl:grid xl:grid-cols-4 xl:gap-x-10 pb-16 xl:pb-20" style="grid-template-rows:auto 1fr;"><dl class="pt-6 pb-10 xl:pt-11 xl:border-b xl:border-gray-200"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center xl:block space-x-8 sm:space-x-12 xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img src="/assets/logo.7d3de591.svg" alt="author image" class="w-10 h-10 rounded-full"><dl class="text-sm font-medium leading-5 whitespace-nowrap"><dt class="sr-only">Name</dt><dd class="text-gray-900">Elone Hoo</dd><dt class="sr-only">Twitter</dt><dd><a href="https://twitter.com/@huchengye" target="_blank" rel="noopnener noreferrer" class="link">@huchengye</a></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 xl:pb-0 xl:col-span-3 xl:row-span-2"><div style="position:relative;" class="prose max-w-none pt-10 pb-8"><div><blockquote><p>我想开启一个新坑，在编写实验🧪项目<a href="https://github.com/elonehoo/pick" target="_blank" rel="noopener noreferrer">pick</a> 时，设计了一个<a href="https://pick.elonehoo.xyz/components/icon.html" target="_blank" rel="noopener noreferrer">组件 pick-icon</a></p></blockquote><p>我认识到了一个很酷的<a href="https://github.com/iconify/iconify" target="_blank" rel="noopener noreferrer">仓库</a>，他提供了超过 100,000 个图标的 100 多个图标集，这是一个非常疯狂的实验项目，我想创建一个icon的组件，他基于 iconify 可以基于我们所安装的图标集，按需加载图标。</p><hr><h2 id="现有的解决方案" tabindex="-1">现有的解决方案 <a class="header-anchor" href="#现有的解决方案" aria-hidden="true">#</a></h2><p>其实社区早已经有一个名为 <a href="https://github.com/astrit/css.gg" target="_blank" rel="noopener noreferrer">css.gg</a> 的纯css图标的解决方案。它完全通过伪元素（<code>::before</code>，<code>::after</code>）来构建图标。因为如果需要使用这个解决方案，那么就需要我们对于 CSS 的工作原理有一个十分深刻的理解，但是同时很难创造出一个更为复杂的图标(因为它只有3个元素可以供我们使用)。我的脑海里产生了一个非常酷炫的想法，我觉得可以应用在所有的图标上而并非只局限于在特定的集合中进行有限的选择。</p><h2 id="我的想法" tabindex="-1">我的想法 <a class="header-anchor" href="#我的想法" aria-hidden="true">#</a></h2><p>用 CSS 中的 <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URLs" target="_blank" rel="noopener noreferrer">Data URLs</a> 中的文件模式作为背景图，并且产生一段 CSS:</p><div class="language-css"><pre><code><span class="token selector">.my-icon</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>data:...<span class="token punctuation">)</span></span> no-repeat center<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 1.2em<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 1.2em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>有了这种方案，我们就可以使用一个单独的类在 CSS 中内嵌任何图像。</p><h2 id="实现" tabindex="-1">实现 <a class="header-anchor" href="#实现" aria-hidden="true">#</a></h2><p>我们可以使用 <a href="https://github.com/iconify/iconify" target="_blank" rel="noopener noreferrer">iconify</a> 的utils包来实现我们的想法，初步设计为</p><div class="language-typescript"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> iconToSVG<span class="token punctuation">,</span> getIconData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@iconify/utils&#39;</span>
<span class="token comment">// (假的，意思到了就可以了)</span>
<span class="token keyword">const</span> svg <span class="token operator">=</span> <span class="token function">iconToSVG</span><span class="token punctuation">(</span><span class="token function">getIconData</span><span class="token punctuation">(</span><span class="token string">&#39;mdi&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;alarm&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>当我们得到 SVG 字符串后，可以将其转换为 DataURLs：</p><div class="language-typescript"><pre><code><span class="token keyword">const</span> dataUri <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">data:image/svg+xml;base64,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>svg<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">&#39;base64&#39;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
</code></pre></div><p>这样的话，基本效果就实现了。</p><h2 id="后续" tabindex="-1">后续 <a class="header-anchor" href="#后续" aria-hidden="true">#</a></h2><p>还需要继续设计，不然肯定不能用。</p></div></div></div><footer class="text-sm font-medium leading-5 divide-y divide-gray-200 xl:col-start-1 xl:row-start-2"><!----><div class="py-8"><h2 class="text-xs tracking-wide uppercase text-gray-500"> Previous Article </h2><div class="link"><a href="/posts/vname-admin.html">构建属于自己的管理页面</a></div></div><div class="pt-8"><a class="link" href="/">← Back to the blog</a></div></footer></div></article></main></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"blog.md\":\"f7a71426\",\"index.md\":\"1c3a8d8e\",\"posts_ajax-not-safe.md\":\"5f83b82d\",\"posts_building-restful-web.md\":\"f6dbbb63\",\"posts_cn-vitest.md\":\"5a97a489\",\"posts_icons-in-pure-css.md\":\"06ad55f5\",\"posts_java_vs_go.md\":\"0bd91a02\",\"posts_my-mac.md\":\"e0b62fce\",\"posts_vname-admin.md\":\"ec47310c\",\"projects.md\":\"883ee321\"}")</script>
    <script type="module" async src="/assets/app.a4c755db.js"></script>
    
  </body>
</html>